# 验收标准质量检查清单

> 确保验收标准具体明确、完整覆盖、业务导向

---

## Given-When-Then 格式检查

### 标准格式

```
Given [前置条件/初始状态]
When [触发动作/事件]
Then [预期结果/系统响应]
```

### 格式要求

- [ ] 包含 Given 部分（前置条件）
- [ ] 包含 When 部分（触发动作）
- [ ] 包含 Then 部分（预期结果）
- [ ] 每个部分描述清晰具体

---

## 具体明确原则

### 避免模糊表述

❌ **错误示例**：

- "系统应该正常工作"
- "体验目标达标"
- "性能可接受"

✅ **正确示例**：

- "系统在 200ms 内返回搜索结果"
- "用户可以在 3 次点击内完成购买"
- "页面加载时间 < 2 秒"

### 检查清单

- [ ] 避免使用"正常"、"合理"、"适当"等模糊词汇
- [ ] 使用具体的数值、时间、次数等可量化指标
- [ ] 明确说明系统的具体行为和响应

---

## 完整覆盖原则

### 三类场景覆盖

#### 1. 正常场景（Happy Path）

- [ ] 覆盖标准使用流程
- [ ] 用户按预期方式操作
- [ ] 系统正常响应

**示例**：

```
Given 用户已登录且购物车中有商品
When 用户点击"结算"按钮
Then 系统跳转到订单确认页面，显示商品清单和总价
```

#### 2. 异常场景（Error Path）

- [ ] 覆盖错误输入
- [ ] 覆盖系统异常
- [ ] 覆盖网络故障

**示例**：

```
Given 用户已登录但购物车为空
When 用户点击"结算"按钮
Then 系统显示提示"购物车为空，请先添加商品"，不跳转页面
```

#### 3. 边界场景（Edge Cases）

- [ ] 覆盖最小值/最大值
- [ ] 覆盖空值/null
- [ ] 覆盖特殊字符

**示例**：

```
Given 用户已登录且购物车中有 100 件商品（达到上限）
When 用户尝试添加第 101 件商品
Then 系统显示提示"购物车已满，最多支持 100 件商品"，不添加商品
```

### 覆盖度检查

- [ ] 至少包含 1 个正常场景
- [ ] 至少包含 1 个异常场景
- [ ] 至少包含 1 个边界场景
- [ ] 覆盖所有关键业务规则

---

## 业务导向原则

### 聚焦业务价值

- [ ] 验收标准描述业务行为，而非技术实现
- [ ] 使用业务术语，而非技术术语
- [ ] 关注用户可感知的结果

### 对比示例

❌ **技术导向**（错误）：

```
Given 数据库连接正常
When 调用 getUserInfo API
Then 返回 200 状态码和 JSON 数据
```

✅ **业务导向**（正确）：

```
Given 用户已登录
When 用户打开个人中心页面
Then 系统显示用户的姓名、头像和账户余额
```

---

## 可测试性检查

### 可验证性

- [ ] 预期结果明确，可以验证是否达成
- [ ] 可以编写自动化测试用例
- [ ] 测试步骤可重现

### 独立性

- [ ] 验收标准之间相互独立
- [ ] 不依赖特定的测试顺序
- [ ] 可以单独验证

---

## 常见问题

### 问题1：验收标准过于技术化

**症状**：充斥着 API、数据库、状态码等技术术语

**解决**：

- 重新聚焦用户可感知的行为
- 使用业务语言描述
- 将技术细节放在实现方案中

### 问题2：验收标准不完整

**症状**：只有正常场景，缺少异常和边界场景

**解决**：

- 系统性地补充异常场景
- 识别边界条件并补充
- 使用检查清单确保覆盖完整

### 问题3：验收标准过于模糊

**症状**：使用"正常"、"合理"等模糊词汇

**解决**：

- 用具体数值替代模糊词汇
- 明确说明具体的系统行为
- 补充可量化的指标

### 问题4：验收标准过于详细

**症状**：包含大量实现细节，像技术规格说明

**解决**：

- 删除技术实现细节
- 聚焦用户可感知的结果
- 保持业务层面的描述

---

## 质量评分

### 优秀（90-100分）

- 使用标准 Given-When-Then 格式
- 覆盖正常/异常/边界三类场景
- 描述具体明确，业务导向
- 完全可测试

### 良好（70-89分）

- 基本使用 Given-When-Then 格式
- 覆盖正常和异常场景
- 描述较清晰，基本业务导向
- 基本可测试

### 需改进（50-69分）

- 格式不规范
- 场景覆盖不完整
- 描述不够清晰或过于技术化
- 部分可测试

### 不合格（<50分）

- 没有使用标准格式
- 场景覆盖严重不足
- 描述模糊或技术化
- 难以测试

---

## 使用说明

### 何时使用？

- 编写验收标准后
- 需求设计文档评审时
- 质量挑战阶段
- 测试用例编写前

### 如何使用？

1. 检查格式是否符合 Given-When-Then
2. 检查场景覆盖是否完整（正常/异常/边界）
3. 检查描述是否具体明确
4. 检查是否业务导向
5. 评估质量等级
6. 针对不合格项提出改进建议

### 谁来使用？

- product-demand-manager-agent（自检）
- product-demand-challenge-agent（质量挑战）
- 测试工程师（测试用例编写）
- 人类审查者（最终验收）
