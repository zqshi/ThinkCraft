/**
 * ThinkCraft Mock 数据
 * 展示完整的会话流程和功能
 */

const MOCK_DATA = {
    // 完整的会话示例
    chat: {
        id: 'demo_fitness_app',
        title: '智能健身APP创意验证',
        createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(), // 2小时前
        updatedAt: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(), // 1小时前
        conversationStep: 13,
        isPinned: true,
        analysisCompleted: true,  // 已完成分析

        // 标签系统
        tags: {
            auto: ['AI工具', '健康运动'],  // AI自动生成的标签
            user: ['待融资']                // 用户手动添加的标签
        },

        // 用户数据（用于报告生成）
        userData: {
            idea: '基于AI的个性化健身教练APP',
            targetUser: '25-40岁职场人士，工作繁忙，想健身但缺乏专业指导',
            solution: '通过手机摄像头实时动作识别+AI算法生成个性化训练计划，像私教一样1对1指导用户完成标准动作',
            uniqueValue: '结合计算机视觉技术实时纠正动作，比传统健身APP更智能；价格只有私教的1/10，让健身指导平民化',
            businessModel: '订阅制（月费99元/年费699元）+ 进阶课程包（单次购买）+ 健身器材电商分成',
            initialInvestment: '研发成本150万（AI模型训练+App开发），推广成本100万，运营成本50万/年'
        },

        // 完整的对话历史
        messages: [
            {
                role: 'assistant',
                content: '欢迎使用ThinkCraft Pro。我会用“定义-拆解-验证-解决”的流程帮你把想法变得清晰可执行。先从定义开始：你今天想解决的核心课题是什么？请用一句话概括。'
            },
            {
                role: 'user',
                content: '我想做一个基于AI的个性化健身教练APP'
            },
            {
                role: 'assistant',
                content: '收到。我们先把问题定义清楚：这个APP主要解决什么人的什么问题？请描述目标用户和最核心的痛点。'
            },
            {
                role: 'user',
                content: '目标用户是25-40岁的职场人士，他们工作繁忙，想健身但缺乏专业指导，去健身房请私教太贵了'
            },
            {
                role: 'assistant',
                content: '明白。我们进入拆解：关键驱动因素可从“时间成本、指导成本、可达性”三类看。现在聚焦解决方案：你打算用怎样的产品/服务让用户获得专业指导？'
            },
            {
                role: 'user',
                content: '通过手机摄像头实时识别用户的健身动作，AI算法生成个性化训练计划，就像有一个私教在旁边1对1指导你完成标准动作'
            },
            {
                role: 'assistant',
                content: '方案清晰，关键在“实时反馈”。现在进入假设构想：你的核心差异化假设是什么？相比Keep、每日瑜伽，用户为什么会选择你？'
            },
            {
                role: 'user',
                content: '我们的核心差异是实时动作纠正。Keep等APP只是播放视频，用户做得对不对完全靠自己判断。我们用计算机视觉技术实时分析动作，立即给出纠正建议，这是真正的智能教练。而且价格只有线下私教的1/10'
            },
            {
                role: 'assistant',
                content: '差异化假设成立的关键是“识别准确率”和“即时纠正价值”。我们继续推进：你的收费模式和价格区间是什么？'
            },
            {
                role: 'user',
                content: '采用订阅制，月费99元或年费699元，覆盖基础的AI训练功能。另外还有进阶课程包可以单次购买，比如增肌课程包、减脂课程包等。未来还可以接入健身器材电商，赚取分成'
            },
            {
                role: 'assistant',
                content: '商业模式清晰。下一步进入验证设计：你准备如何验证“用户愿意为AI私教付费”和“动作识别足够准确”这两个核心假设？'
            },
            {
                role: 'user',
                content: 'AI模型训练和App开发大概需要150万，市场推广预算100万，加上第一年的运营成本50万，总共需要300万左右的启动资金'
            },
            {
                role: 'assistant',
                content: '收到启动资金结构。我们进入综合与行动：请确认优先级最高的3件事（例如：MVP范围、验证方式、首批获客渠道）。确认后我会输出行动路线图与报告提示。[ANALYSIS_COMPLETE]'
            }
        ]
    },

    // 其他示例会话（用于历史列表）
    otherChats: [
        {
            id: 'chat_001',
            title: '在线教育平台创意讨论',
            createdAt: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),
            updatedAt: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),
            conversationStep: 2,
            isPinned: false,
            analysisCompleted: false,  // 未完成分析
            tags: {
                auto: ['教育', 'SaaS'],
                user: []
            },
            messages: [
                { role: 'assistant', content: '欢迎使用ThinkCraft Pro。你今天想探讨或解决的核心课题是什么？请用一句话概括。' },
                { role: 'user', content: '我想做一个针对K12的在线编程教育平台' }
            ],
            userData: {}
        },
        {
            id: 'chat_002',
            title: '宠物社交APP验证',
            createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
            updatedAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
            conversationStep: 2,
            isPinned: false,
            analysisCompleted: false,  // 未完成分析
            tags: {
                auto: ['社交', '宠物'],
                user: ['B端']
            },
            messages: [
                { role: 'assistant', content: '欢迎使用ThinkCraft Pro。请用一句话概括你要解决的核心问题或目标。' },
                { role: 'user', content: '宠物主人之间的社交平台，可以预约遛狗、分享萌宠日常' }
            ],
            userData: {}
        }
    ],

    // 示例报告数据
    demoReport: {
        // 顶层数据
        initialIdea: "基于AI的个性化健身教练APP",
        coreDefinition: "通过AI视觉识别和个性化算法，为职场人士提供随时随地的专业健身指导，以私教1/10的价格实现专业级训练效果",
        problem: "25-40岁职场人士缺乏时间和专业指导，传统健身房私教费用高昂（300-500元/课时），自己锻炼容易动作不规范导致受伤",
        solution: "实时动作识别+AI纠正+个性化训练计划，提供即时反馈和专业指导，价格仅为线下私教的1/10",
        targetUser: "25-40岁职场人士，工作繁忙但追求健康生活，愿意为专业服务付费但对价格敏感",

        chapters: {
            chapter1: {
                title: "第一章：创意定义与演化",
                originalIdea: "基于AI的个性化健身教练APP",
                evolution: "通过6个问题的深入探讨，创意从最初的'AI健身APP'演化为具备清晰商业模式的'智能私教平台'。核心价值从单纯的'技术创新'明确为'解决职场人士健身指导缺失'的实际痛点，并建立了订阅制+课程包+器材分成的多元化收入模型。"
            },
            chapter2: {
                title: "第二章：核心洞察与根本假设",
                surfaceNeed: "职场人士想要健身但缺乏专业指导和时间",
                deepMotivation: "对健康的焦虑、对身材的不满、对自律生活方式的向往，以及对'性价比'的追求——既要专业效果，又不想支付高昂私教费用",
                assumptions: [
                    "用户愿意在家中通过手机APP进行健身训练（而非必须去健身房）",
                    "AI动作识别的准确率能达到用户信任的程度（>90%）",
                    "月费99元或年费699元的定价能让足够多的用户付费（转化率>10%）",
                    "用户能够在缺乏真人监督的情况下坚持训练（30日留存>30%）",
                    "手机摄像头的硬件性能足以支持实时动作识别",
                    "团队能够在6个月内开发出可用的MVP产品",
                    "获客成本能够控制在50-80元之间，实现健康的LTV/CAC比"
                ]
            },
            chapter3: {
                title: "第三章：边界条件与应用场景",
                idealScenario: "理想用户画像：30岁左右的互联网公司产品经理，月收入1.5万，工作日晚上8-9点在家训练30-45分钟，目标是减脂和保持健康。有iPhone 12以上设备，家中有2-3平米空地和瑜伽垫，愿意为健康投资但对价格敏感，尝试过Keep但因缺乏指导而放弃。",
                limitations: [
                    "用户家中空间过小（<2平米），无法完成需要大幅度移动的动作",
                    "手机硬件性能不足（如5年前的旧款手机），无法流畅运行AI识别",
                    "用户自律性极低，即使有AI指导也无法坚持3天以上",
                    "用户对健身有特殊需求（如康复训练、专业运动员级别），超出产品能力范围",
                    "网络环境不稳定，导致实时识别延迟或中断",
                    "用户身材过于特殊（如超重200斤以上），现有算法识别准确率下降"
                ],
                prerequisites: {
                    technical: "成熟的姿态识别模型（TensorFlow Lite或类似方案）、移动端实时推理能力、云端训练数据处理能力、至少10万条标注动作数据用于模型训练",
                    resources: "300万启动资金（研发150万+推广100万+运营50万）、5-8人核心团队（AI工程师、移动端开发、产品经理、运营）、6个月开发周期",
                    partnerships: "与健身教练合作提供课程内容、与健身器材品牌合作电商分成、与应用商店合作推广资源、与KOL合作种子用户获取"
                }
            },
            chapter4: {
                title: "第四章：可行性分析与关键挑战",
                stages: [
                    {
                        stage: "第一阶段（0-3个月）MVP验证",
                        goal: "验证技术可行性和用户接受度",
                        tasks: "完成3个核心动作识别算法、开发基础版APP、招募100名种子用户内测、算法准确率>90%"
                    },
                    {
                        stage: "第二阶段（3-6个月）商业验证",
                        goal: "验证付费模式和获客渠道",
                        tasks: "正式上线应用商店、启动KOL合作、开通订阅付费、获取1万注册用户和1000付费用户"
                    },
                    {
                        stage: "第三阶段（6-12个月）规模增长",
                        goal: "扩大用户规模和收入",
                        tasks: "扩充课程库至50+、增加社交功能、规模化投放、达到10万注册用户和1.5万付费用户"
                    },
                    {
                        stage: "第四阶段（12个月+）业务拓展",
                        goal: "多元化收入和市场拓展",
                        tasks: "切入B端企业市场、研发智能硬件、拓展海外市场、启动A轮融资"
                    }
                ],
                biggestRisk: "用户留存率低于预期（健身产品普遍面临的挑战）——如果30日留存<15%，即使获取了大量用户，付费转化和长期价值也会远低于预期，导致获客成本无法回收",
                mitigation: "1）MVP阶段就测试留存数据，目标30日留存>30% 2）引入游戏化机制（打卡、成就、排行榜）提升粘性 3）建立用户社群，利用社交压力促进坚持 4）训练效果可视化，让用户看到进步 5）如果留存数据不达标，及时调整产品策略或pivot"
            },
            chapter5: {
                title: "第五章：思维盲点与待探索问题",
                blindSpots: [
                    "用户获客成本的真实数据：预估50-80元/人，但健身市场竞争激烈，实际成本可能更高",
                    "AI算法对不同人群的适配性：不同年龄、性别、体型的识别准确率可能差异很大",
                    "竞品的反应速度：Keep等大厂如果快速跟进AI功能，如何保持竞争优势",
                    "法律和安全责任：用户在使用过程中受伤，产品方需要承担什么责任",
                    "课程内容的版权和专业性：如何确保训练计划的科学性和合规性"
                ],
                keyQuestions: [
                    {
                        question: "目标用户真的愿意为线上AI健身教练付费吗？月费99元的价格敏感度如何？",
                        validation: "制作落地页+广告投放，测试用户点击和试用转化率；与100名目标用户深度访谈，了解付费意愿；推出限时优惠测试不同价格点的转化率"
                    },
                    {
                        question: "AI动作识别的准确率在真实家庭环境中能达到什么水平？不同光线、角度、体型的影响有多大？",
                        validation: "收集100名测试用户在不同环境下的训练视频，标注并测试算法准确率；对比专业教练的评价和AI的判断，计算一致性；针对识别错误的case建立改进机制"
                    },
                    {
                        question: "用户在没有真人监督的情况下，能坚持多久？30日留存能否达到30%？",
                        validation: "种子用户内测期间追踪留存数据（次日、7日、30日留存）；访谈流失用户了解放弃原因；A/B测试不同的激励机制（打卡奖励、社交PK等）对留存的影响"
                    }
                ]
            },
            chapter6: {
                title: "第六章：结构化行动建议",
                immediateActions: [
                    "用户调研：访谈20-30名目标用户，验证痛点和付费意愿，预计1周完成",
                    "技术预研：调研TensorFlow Lite等方案的可行性，搭建简单的姿态识别Demo，预计1周",
                    "竞品分析：深度体验Keep、FitTime等5-8款竞品，梳理功能对比表，预计3天",
                    "团队组建：确定联合创始人或核心技术负责人，明确分工，预计1周",
                    "财务规划：细化300万预算的具体分配（人员成本、服务器、推广渠道等），预计2天"
                ],
                midtermPlan: {
                    userResearch: "扩大调研样本至100-200人，制作问卷量化需求强度；招募10-20名深度用户持续追踪使用行为",
                    marketResearch: "分析健身市场报告，获取行业数据；研究Keep等竞品的财务数据和用户增长曲线；调研海外类似产品（如Freeletics）的发展路径",
                    prototyping: "开发MVP版本，包含3-5个核心动作的识别；制作高保真原型进行用户测试；搭建数据埋点系统追踪用户行为",
                    partnerships: "接触3-5位健身KOL洽谈合作；与2-3家健身器材品牌探讨分成模式；联系天使投资人或产业资本进行融资沟通"
                },
                extendedIdeas: [
                    "企业健康管理SaaS：为企业提供员工健康福利方案，年费10-50万/企业，市场空间大",
                    "智能健身硬件：开发AI健身镜或智能哑铃，提升客单价和用户体验",
                    "社区生态：建立健身社交平台，用户可分享训练成果、组队PK，提升留存",
                    "健康数据平台：打通体重秤、手环等设备，构建个人健康档案，拓展保险健康奖励等商业模式",
                    "内容IP化：签约明星教练打造课程IP，通过直播、短视频等形式扩大品牌影响力"
                ]
            }
        }
    }
};

// 导出给页面使用
window.MOCK_DATA = MOCK_DATA;
