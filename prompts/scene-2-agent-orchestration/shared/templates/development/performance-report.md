# 性能分析报告模板

> 性能基线、瓶颈分析、优化建议

---

## 模板元信息

**Template**: 性能分析报告模板
**Version**: v1.0
**适用场景**: 开发阶段 - 性能分析
**输出文件命名**: `性能分析报告-{产品名称}-v{YYYYMMDDHHmmss}.md`

---

## 模板结构

```markdown
# 性能分析报告

---

**Template**: 性能分析报告模板
**Version**: v{YYYYMMDDHHmmss}
**Changelog**: {时间} - {修改人} - {修改原因摘要}

---

## 1. 文档信息

### 1.1 文档属性

- **产品名称**: [产品名称]
- **测试版本**: [版本号]
- **文档版本**: v{YYYYMMDDHHmmss}
- **创建日期**: {YYYY-MM-DD}
- **创建人**: [创建人]
- **审核人**: [审核人]

### 1.2 依赖文档

- **测试计划**: [文档路径] - v{YYYYMMDDHHmmss}
- **战略设计文档**: [文档路径] - v{YYYYMMDDHHmmss}

---

## 2. 测试概述

### 2.1 测试目标

[说明本次性能测试的目标]

### 2.2 测试范围

**测试模块**:
- [模块1]
- [模块2]
- [模块3]

**测试场景**:
- [场景1]
- [场景2]
- [场景3]

### 2.3 测试环境

| 环境项 | 配置 |
|--------|------|
| 操作系统 | [系统] |
| CPU | [配置] |
| 内存 | [配置] |
| 磁盘 | [配置] |
| 网络 | [配置] |
| 数据库 | [配置] |
| 中间件 | [配置] |

### 2.4 测试工具

| 工具名称 | 版本 | 用途 |
|---------|------|------|
| [工具名称] | [版本] | [用途] |

### 2.5 测试时间

- **测试开始时间**: {YYYY-MM-DD HH:mm:ss}
- **测试结束时间**: {YYYY-MM-DD HH:mm:ss}
- **测试时长**: [时长]

---

## 3. 性能基线

### 3.1 性能指标定义

| 指标名称 | 定义 | 单位 | 目标值 |
|---------|------|------|--------|
| [指标名称] | [定义] | [单位] | [目标值] |

### 3.2 基线数据

#### 3.2.1 响应时间基线

| 接口/页面 | 平均响应时间 | 90分位 | 95分位 | 99分位 | 最大响应时间 |
|----------|-------------|--------|--------|--------|-------------|
| [接口/页面] | [时间] | [时间] | [时间] | [时间] | [时间] |

#### 3.2.2 吞吐量基线

| 接口/页面 | TPS | QPS | 并发用户数 |
|----------|-----|-----|-----------|
| [接口/页面] | [值] | [值] | [值] |

#### 3.2.3 资源使用基线

| 资源类型 | 平均使用率 | 峰值使用率 | 说明 |
|---------|-----------|-----------|------|
| CPU | [百分比] | [百分比] | [说明] |
| 内存 | [百分比] | [百分比] | [说明] |
| 磁盘I/O | [值] | [值] | [说明] |
| 网络I/O | [值] | [值] | [说明] |

---

## 4. 性能测试结果

### 4.1 负载测试

#### 4.1.1 测试场景

**场景描述**: [描述]

**测试参数**:
- **并发用户数**: [数量]
- **持续时间**: [时长]
- **思考时间**: [时间]

#### 4.1.2 测试结果

**响应时间**:
| 接口/页面 | 平均响应时间 | 90分位 | 95分位 | 99分位 | 最大响应时间 |
|----------|-------------|--------|--------|--------|-------------|
| [接口/页面] | [时间] | [时间] | [时间] | [时间] | [时间] |

**吞吐量**:
| 接口/页面 | TPS | QPS | 成功率 | 错误率 |
|----------|-----|-----|--------|--------|
| [接口/页面] | [值] | [值] | [百分比] | [百分比] |

**资源使用**:
| 资源类型 | 平均使用率 | 峰值使用率 |
|---------|-----------|-----------|
| CPU | [百分比] | [百分比] |
| 内存 | [百分比] | [百分比] |
| 磁盘I/O | [值] | [值] |
| 网络I/O | [值] | [值] |

#### 4.1.3 结果分析

[分析测试结果，说明是否达到目标]

### 4.2 压力测试

#### 4.2.1 测试场景

**场景描述**: [描述]

**测试策略**: [策略]

#### 4.2.2 测试结果

**系统容量**:
- **最大并发用户数**: [数量]
- **最大TPS**: [值]
- **系统崩溃点**: [描述]

**性能拐点**:
| 并发数 | 响应时间 | TPS | CPU使用率 | 内存使用率 | 说明 |
|--------|---------|-----|-----------|-----------|------|
| [数量] | [时间] | [值] | [百分比] | [百分比] | [说明] |

#### 4.2.3 结果分析

[分析系统在压力下的表现]

### 4.3 稳定性测试

#### 4.3.1 测试场景

**场景描述**: [描述]

**测试参数**:
- **并发用户数**: [数量]
- **持续时间**: [时长]

#### 4.3.2 测试结果

**性能稳定性**:
| 时间段 | 平均响应时间 | TPS | 错误率 | CPU使用率 | 内存使用率 |
|--------|-------------|-----|--------|-----------|-----------|
| [时间段] | [时间] | [值] | [百分比] | [百分比] | [百分比] |

**资源泄漏检测**:
- **内存泄漏**: [是/否]
- **连接泄漏**: [是/否]
- **线程泄漏**: [是/否]

#### 4.3.3 结果分析

[分析系统长时间运行的稳定性]

### 4.4 容量测试

#### 4.4.1 测试场景

**场景描述**: [描述]

#### 4.4.2 测试结果

**容量评估**:
| 资源类型 | 当前容量 | 使用情况 | 剩余容量 | 预计支撑时长 |
|---------|---------|---------|---------|-------------|
| [类型] | [容量] | [使用] | [剩余] | [时长] |

#### 4.4.3 结果分析

[分析系统容量是否满足业务需求]

---

## 5. 瓶颈分析

### 5.1 性能瓶颈识别

| 瓶颈点 | 类型 | 影响程度 | 发现方式 | 说明 |
|--------|------|---------|---------|------|
| [瓶颈点] | [类型] | [高/中/低] | [方式] | [说明] |

### 5.2 前端性能瓶颈

#### 5.2.1 页面加载性能

| 页面 | FCP | LCP | TTI | CLS | 问题描述 |
|------|-----|-----|-----|-----|---------|
| [页面] | [时间] | [时间] | [时间] | [值] | [描述] |

#### 5.2.2 资源加载分析

| 资源类型 | 数量 | 总大小 | 加载时间 | 优化建议 |
|---------|------|--------|---------|---------|
| [类型] | [数量] | [大小] | [时间] | [建议] |

#### 5.2.3 JavaScript性能

**性能问题**:
- [问题1]
- [问题2]
- [问题3]

**分析工具**: [工具名称]

**分析结果**: [结果]

### 5.3 后端性能瓶颈

#### 5.3.1 API性能分析

| API | 平均响应时间 | 慢查询占比 | 主要耗时环节 | 优化建议 |
|-----|-------------|-----------|-------------|---------|
| [API] | [时间] | [百分比] | [环节] | [建议] |

#### 5.3.2 数据库性能分析

**慢查询统计**:
| SQL语句 | 执行次数 | 平均耗时 | 最大耗时 | 优化建议 |
|---------|---------|---------|---------|---------|
| [SQL] | [次数] | [时间] | [时间] | [建议] |

**数据库资源使用**:
| 指标 | 当前值 | 阈值 | 状态 |
|------|--------|------|------|
| 连接数 | [数量] | [阈值] | [状态] |
| 缓存命中率 | [百分比] | [阈值] | [状态] |
| 锁等待 | [次数] | [阈值] | [状态] |

#### 5.3.3 缓存性能分析

**缓存命中率**:
| 缓存类型 | 命中率 | 未命中率 | 优化建议 |
|---------|--------|---------|---------|
| [类型] | [百分比] | [百分比] | [建议] |

**缓存问题**:
- [问题1]
- [问题2]
- [问题3]

### 5.4 网络性能瓶颈

**网络延迟分析**:
| 环节 | 延迟时间 | 占比 | 优化建议 |
|------|---------|------|---------|
| [环节] | [时间] | [百分比] | [建议] |

**带宽使用分析**:
| 时间段 | 入站流量 | 出站流量 | 带宽使用率 |
|--------|---------|---------|-----------|
| [时间段] | [流量] | [流量] | [百分比] |

### 5.5 系统资源瓶颈

#### 5.5.1 CPU瓶颈

**CPU使用分析**:
| 进程 | CPU使用率 | 说明 | 优化建议 |
|------|-----------|------|---------|
| [进程] | [百分比] | [说明] | [建议] |

#### 5.5.2 内存瓶颈

**内存使用分析**:
| 进程 | 内存使用 | 说明 | 优化建议 |
|------|---------|------|---------|
| [进程] | [大小] | [说明] | [建议] |

#### 5.5.3 磁盘I/O瓶颈

**磁盘I/O分析**:
| 磁盘 | 读IOPS | 写IOPS | 使用率 | 优化建议 |
|------|--------|--------|--------|---------|
| [磁盘] | [值] | [值] | [百分比] | [建议] |

---

## 6. 性能对比

### 6.1 版本对比

| 指标 | 上一版本 | 当前版本 | 变化 | 说明 |
|------|---------|---------|------|------|
| [指标] | [值] | [值] | [变化] | [说明] |

### 6.2 环境对比

| 指标 | 测试环境 | 生产环境 | 差异 | 说明 |
|------|---------|---------|------|------|
| [指标] | [值] | [值] | [差异] | [说明] |

### 6.3 竞品对比

| 指标 | 本产品 | 竞品A | 竞品B | 分析 |
|------|--------|-------|-------|------|
| [指标] | [值] | [值] | [值] | [分析] |

---

## 7. 优化建议

### 7.1 前端优化建议

#### 优化项1: [优化项名称]

**问题描述**: [描述]

**优化方案**: [方案]

**预期收益**: [收益]

**实施难度**: [高/中/低]

**优先级**: [P0/P1/P2/P3]

#### 优化项2: [优化项名称]

[按照相同结构描述]

### 7.2 后端优化建议

#### 优化项1: [优化项名称]

**问题描述**: [描述]

**优化方案**: [方案]

**预期收益**: [收益]

**实施难度**: [高/中/低]

**优先级**: [P0/P1/P2/P3]

#### 优化项2: [优化项名称]

[按照相同结构描述]

### 7.3 数据库优化建议

#### 优化项1: [优化项名称]

**问题描述**: [描述]

**优化方案**: [方案]

**预期收益**: [收益]

**实施难度**: [高/中/低]

**优先级**: [P0/P1/P2/P3]

#### 优化项2: [优化项名称]

[按照相同结构描述]

### 7.4 架构优化建议

#### 优化项1: [优化项名称]

**问题描述**: [描述]

**优化方案**: [方案]

**预期收益**: [收益]

**实施难度**: [高/中/低]

**优先级**: [P0/P1/P2/P3]

#### 优化项2: [优化项名称]

[按照相同结构描述]

---

## 8. 优化计划

### 8.1 优化路线图

| 阶段 | 优化项 | 预期收益 | 计划时间 | 负责人 |
|------|--------|---------|---------|--------|
| [阶段] | [优化项] | [收益] | {YYYY-MM-DD} | [姓名] |

### 8.2 资源需求

| 资源类型 | 需求 | 说明 |
|---------|------|------|
| [类型] | [需求] | [说明] |

---

## 9. 风险评估

| 风险 | 影响程度 | 发生概率 | 应对措施 | 负责人 |
|------|---------|---------|---------|--------|
| [风险] | [高/中/低] | [高/中/低] | [措施] | [姓名] |

---

## 10. 结论

### 10.1 性能评估

**整体评价**: [评价]

**达标情况**:
- [ ] 响应时间达标
- [ ] 吞吐量达标
- [ ] 资源使用达标
- [ ] 稳定性达标
- [ ] 容量达标

### 10.2 主要问题

1. [问题1]
2. [问题2]
3. [问题3]

### 10.3 改进方向

1. [方向1]
2. [方向2]
3. [方向3]

---

## 11. 附录

### 11.1 测试数据

[附加详细测试数据]

### 11.2 测试脚本

```
[测试脚本内容]
```

### 11.3 监控截图

[监控截图]

---

## 合规自检

- [ ] 测试概述完整
- [ ] 性能基线明确
- [ ] 测试结果详细
- [ ] 瓶颈分析深入
- [ ] 性能对比充分
- [ ] 优化建议可行
- [ ] 优化计划合理
- [ ] 风险评估充分
- [ ] 结论明确
- [ ] 包含必要的元信息

---

**文档生成完成，版本号：v{YYYYMMDDHHmmss}**
```

---

## 使用说明

### 何时使用？

- 性能测试完成后
- 需要分析性能问题时
- 需要制定优化计划时

### 填写要点

1. **数据准确**: 测试数据要准确真实
2. **分析深入**: 瓶颈分析要深入到根本原因
3. **建议可行**: 优化建议要可行可落地
4. **对比清晰**: 性能对比要清晰明确
5. **计划合理**: 优化计划要合理可执行

### 后续流程

1. 基于报告制定优化方案
2. 执行性能优化
3. 验证优化效果
4. 持续监控性能

---

## 相关模板

- **上一步**: [运维手册模板](./ops-manual.md)
- **下一步**: [优化方案模板](./optimization-plan.md)
- **参考**: [测试报告模板](./test-report.md)
