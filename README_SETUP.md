# ThinkCraft ä½¿ç”¨æŒ‡å—

## âœ… å·²å®Œæˆçš„æ”¹é€ 

### åŽç«¯æœåŠ¡ï¼ˆbackend/ï¼‰
- âœ… ExpressæœåŠ¡å™¨æ­å»ºå®Œæˆ
- âœ… DeepSeek APIé›†æˆå®Œæˆ
- âœ… çŽ¯å¢ƒå˜é‡é…ç½®å®Œæˆ
- âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†å’Œæ—¥å¿—ç³»ç»Ÿ

### å‰ç«¯æ”¹é€ ï¼ˆindex.htmlï¼‰
- âœ… stateç»“æž„æ›´æ–°ï¼ˆåŽ»æŽ‰å›ºå®šæµç¨‹ï¼‰
- âœ… ç³»ç»Ÿæç¤ºè¯é…ç½®ï¼ˆSYSTEM_PROMPTï¼‰
- âœ… sendMessage()æ”¹ä¸ºå¼‚æ­¥APIè°ƒç”¨
- âœ… handleAPIResponse()å¤„ç†çœŸå®žAIå›žå¤
- âœ… saveCurrentChat()ä»Žå¯¹è¯åŽ†å²æå–æ ‡é¢˜

## ðŸš€ å¦‚ä½•ä½¿ç”¨

### 1. å¯åŠ¨åŽç«¯æœåŠ¡

```bash
# è¿›å…¥backendç›®å½•
cd backend

# å¯åŠ¨æœåŠ¡å™¨ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
npm start

# æˆ–ä½¿ç”¨çƒ­é‡è½½ï¼ˆéœ€è¦Node 18+ï¼‰
npm run dev
```

çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºè¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š
```
==================================================
ðŸš€ ThinkCraft åŽç«¯æœåŠ¡å·²å¯åŠ¨
ðŸ“ ç›‘å¬ç«¯å£: 3000
ðŸŒ å‰ç«¯åœ°å€: http://localhost:5173
ðŸ”§ çŽ¯å¢ƒ: development
ðŸ¤– API: DeepSeek Chat
==================================================
```

### 2. æ‰“å¼€å‰ç«¯é¡µé¢

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œä½¿ç”¨ä»»æ„HTTPæœåŠ¡å™¨
python3 -m http.server 8000

# æˆ–ä½¿ç”¨Live Serverï¼ˆæŽ¨èï¼‰
# åœ¨VS Codeä¸­å®‰è£…Live Serveræ‰©å±•ï¼Œå³é”®index.htmlé€‰æ‹©"Open with Live Server"
```

è®¿é—®ï¼šhttp://localhost:8000/index.html

### 3. å¼€å§‹å¯¹è¯

1. åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ä½ çš„æƒ³æ³•æˆ–é—®é¢˜
2. ç‚¹å‡»å‘é€æˆ–æŒ‰Enteré”®
3. AIä¼šå®žæ—¶å›žå¤ï¼Œä½¿ç”¨æ‰“å­—æœºæ•ˆæžœæ˜¾ç¤º
4. å¯¹è¯ä¼šè‡ªåŠ¨ä¿å­˜åˆ°å·¦ä¾§åŽ†å²è®°å½•

## ðŸ“ æ ¸å¿ƒå˜åŒ–è¯´æ˜Ž

### ä»Ž"å›ºå®šå¼•å¯¼"åˆ°"è‡ªç”±å¯¹è¯"

**ä¹‹å‰ï¼š**
- 5ä¸ªå›ºå®šé—®é¢˜æŒ‰é¡ºåºæé—®
- ç”¨æˆ·å¿…é¡»æŒ‰æµç¨‹å›žç­”
- æœ€åŽç”Ÿæˆæ¨¡æ¿åŒ–æŠ¥å‘Š

**çŽ°åœ¨ï¼š**
- AIæ ¹æ®ä¸Šä¸‹æ–‡è‡ªç”±å¼•å¯¼
- ç”¨æˆ·å¯ä»¥éšæ—¶åˆ‡æ¢è¯é¢˜
- å¯¹è¯æ›´è‡ªç„¶ã€æ›´çµæ´»

### ç³»ç»Ÿæç¤ºè¯

AIçŽ°åœ¨éµå¾ªä»¥ä¸‹æŒ‡å¯¼åŽŸåˆ™ï¼ˆSYSTEM_PROMPTï¼‰ï¼š
- å¸®åŠ©ç”¨æˆ·ç³»ç»Ÿåœ°åˆ†æžå’ŒéªŒè¯æƒ³æ³•
- æå‡ºå»ºè®¾æ€§çš„é—®é¢˜å’Œæ´žå¯Ÿ
- æ¯æ¬¡åªé—®1-2ä¸ªé—®é¢˜ï¼Œé¿å…ä¿¡æ¯è¿‡è½½
- é€æ­¥å¼•å¯¼æ€è€ƒï¼šæ ¸å¿ƒæƒ³æ³• â†’ ç›®æ ‡ç”¨æˆ· â†’ ç—›ç‚¹ â†’ è§£å†³æ–¹æ¡ˆ â†’ éªŒè¯ç­–ç•¥

## âš™ï¸ é…ç½®è¯´æ˜Ž

### çŽ¯å¢ƒå˜é‡ï¼ˆbackend/.envï¼‰

```bash
# DeepSeek API å¯†é’¥
DEEPSEEK_API_KEY=sk-your-api-key-here

# æœåŠ¡å™¨ç«¯å£
PORT=3000

# å‰ç«¯URLï¼ˆç”¨äºŽCORSé…ç½®ï¼‰
FRONTEND_URL=http://localhost:5173
```

### å‰ç«¯é…ç½®ï¼ˆindex.htmlï¼‰

```javascript
// ç¬¬1693è¡Œï¼šåŽç«¯APIåœ°å€
settings: {
    apiUrl: 'http://localhost:3000'  // ä¿®æ”¹ä¸ºå®žé™…åŽç«¯åœ°å€
}
```

## ðŸ› å¸¸è§é—®é¢˜

### 1. APIè°ƒç”¨å¤±è´¥

**é”™è¯¯ä¿¡æ¯ï¼š** "æŠ±æ­‰ï¼Œå‡ºçŽ°äº†é”™è¯¯ï¼šAPIé”™è¯¯: 500"

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç¡®è®¤åŽç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨ï¼ˆæŸ¥çœ‹ç»ˆç«¯æ˜¯å¦æœ‰æ—¥å¿—è¾“å‡ºï¼‰
2. æ£€æŸ¥.envæ–‡ä»¶ä¸­çš„DEEPSEEK_API_KEYæ˜¯å¦æ­£ç¡®
3. ç¡®è®¤ç½‘ç»œè¿žæŽ¥æ­£å¸¸
4. æŸ¥çœ‹åŽç«¯æ—¥å¿—ï¼š`cat /tmp/claude/tasks/[task-id].output`

### 2. è·¨åŸŸé”™è¯¯ï¼ˆCORSï¼‰

**é”™è¯¯ä¿¡æ¯ï¼š** "Access to fetch at 'http://localhost:3000' has been blocked by CORS policy"

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç¡®è®¤å‰ç«¯å’ŒåŽç«¯éƒ½åœ¨è¿è¡Œ
2. æ£€æŸ¥backend/.envä¸­çš„FRONTEND_URLæ˜¯å¦ä¸Žå‰ç«¯åœ°å€åŒ¹é…
3. é‡å¯åŽç«¯æœåŠ¡

### 3. API Keyæ— æ•ˆ

**é”™è¯¯ä¿¡æ¯ï¼š** "DEEPSEEK_API_KEY æœªé…ç½®æˆ–æ— æ•ˆ"

**è§£å†³æ–¹æ¡ˆï¼š**
1. è®¿é—® https://platform.deepseek.com èŽ·å–æœ‰æ•ˆçš„API Key
2. å°†API Keyå¤åˆ¶åˆ°backend/.envæ–‡ä»¶ä¸­
3. ç¡®ä¿æ²¡æœ‰å¤šä½™çš„ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦
4. é‡å¯åŽç«¯æœåŠ¡

## ðŸ“Š APIä½¿ç”¨æˆæœ¬

**DeepSeekå®šä»·ï¼š**
- è¾“å…¥ï¼šÂ¥0.14 / 1M tokens
- è¾“å‡ºï¼šÂ¥0.28 / 1M tokens

**é¢„ä¼°æˆæœ¬ï¼š**
- å•æ¬¡å¯¹è¯ï¼ˆ5-10è½®ï¼‰ï¼šçº¦200-500 tokens
- è´¹ç”¨ï¼šçº¦ Â¥0.0001-0.0002ï¼ˆä¸åˆ°1åˆ†é’±ï¼‰
- éžå¸¸ç»æµŽå®žæƒ ï¼

## ðŸ”§ æŠ€æœ¯æž¶æž„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         HTTP POST         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             â”‚  /api/chat (messages)      â”‚             â”‚
â”‚  å‰ç«¯HTML   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚  Express    â”‚
â”‚  (Port 8000)â”‚                            â”‚  (Port 3000)â”‚
â”‚             â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   AIå›žå¤ + tokensç»Ÿè®¡    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                                                  â”‚ HTTPS
                                                  â–¼
                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                          â”‚  DeepSeek   â”‚
                                          â”‚     API     â”‚
                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ“¦ é¡¹ç›®ç»“æž„

```
ThinkCraft/
â”œâ”€â”€ backend/                    # åŽç«¯æœåŠ¡
â”‚   â”œâ”€â”€ server.js              # Expressä¸»å…¥å£
â”‚   â”œâ”€â”€ package.json           # ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ .env                   # çŽ¯å¢ƒå˜é‡ï¼ˆåŒ…å«API Keyï¼‰
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ deepseek.js       # DeepSeek APIå°è£…
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â””â”€â”€ chat.js           # å¯¹è¯è·¯ç”±
â”‚   â””â”€â”€ middleware/
â”‚       â”œâ”€â”€ errorHandler.js   # é”™è¯¯å¤„ç†
â”‚       â””â”€â”€ logger.js         # è¯·æ±‚æ—¥å¿—
â”œâ”€â”€ index.html                 # å‰ç«¯é¡µé¢ï¼ˆå·²æ”¹é€ ï¼‰
â””â”€â”€ README_SETUP.md           # æœ¬æ–‡æ¡£
```

## ðŸŽ¯ ä¸‹ä¸€æ­¥ä¼˜åŒ–å»ºè®®

### çŸ­æœŸï¼ˆå¯é€‰ï¼‰
- [ ] æ·»åŠ "æ­£åœ¨è¾“å…¥..."åŠ è½½åŠ¨ç”»
- [ ] å®žçŽ°æµå¼å“åº”ï¼ˆSSEï¼‰èŽ·å¾—æ›´å¥½çš„å®žæ—¶æ„Ÿ
- [ ] æ·»åŠ é‡è¯•æœºåˆ¶ï¼ˆAPIå¤±è´¥æ—¶è‡ªåŠ¨é‡è¯•ï¼‰
- [ ] æ”¯æŒMarkdownæ¸²æŸ“ï¼ˆAIå›žå¤æ ¼å¼åŒ–æ˜¾ç¤ºï¼‰

### ä¸­æœŸï¼ˆå¯é€‰ï¼‰
- [ ] ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [ ] å¯¹è¯äº‘ç«¯åŒæ­¥
- [ ] å¤šæ¨¡æ€è¾“å…¥ï¼ˆè¯­éŸ³ã€å›¾ç‰‡ï¼‰
- [ ] PDFæŠ¥å‘Šå¯¼å‡º

## ðŸ’¡ ä½¿ç”¨å»ºè®®

1. **æ˜Žç¡®ä½ çš„æƒ³æ³•**ï¼šç¬¬ä¸€æ¡æ¶ˆæ¯å°½å¯èƒ½æ¸…æ™°åœ°æè¿°ä½ çš„æ ¸å¿ƒæƒ³æ³•
2. **æ·±å…¥äº¤æµ**ï¼šä¸è¦å®³æ€•è¿½é—®å’Œæ·±å…¥æŽ¢è®¨
3. **ä¿å­˜é‡è¦å¯¹è¯**ï¼šå·¦ä¾§åŽ†å²è®°å½•å¯ä»¥éšæ—¶æŸ¥çœ‹
4. **æˆæœ¬æŽ§åˆ¶**ï¼šæ¯æ¡æ¶ˆæ¯çš„æˆæœ¬ä¸åˆ°0.01å…ƒï¼Œæ”¾å¿ƒä½¿ç”¨

## ðŸ“ž æŠ€æœ¯æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿ
1. æŸ¥çœ‹åŽç«¯æ—¥å¿—ï¼š`npm start` çš„ç»ˆç«¯è¾“å‡º
2. æ£€æŸ¥æµè§ˆå™¨æŽ§åˆ¶å°ï¼ˆF12ï¼‰æŸ¥çœ‹å‰ç«¯é”™è¯¯
3. ç¡®è®¤DeepSeek APIé…é¢ï¼šhttps://platform.deepseek.com

---

**ç¥ä½¿ç”¨æ„‰å¿«ï¼çŽ°åœ¨å¯ä»¥äº«å—çœŸå®žçš„AIå¯¹è¯ä½“éªŒäº†ï¼** ðŸŽ‰
